"use strict";(self.webpackChunkcorporate_qna=self.webpackChunkcorporate_qna||[]).push([[929],{3929:(b,p,s)=>{s.r(p),s.d(p,{CategoriesModule:()=>Z});var l=s(6895),a=s(433),g=s(4370),m=s(5856),e=s(4650),d=s(388),u=s(2019);let h=(()=>{class o{constructor(t,n){this.bsModalRef=t,this.categoriesService=n}ngOnInit(){this.intializeForm()}onClose(){this.bsModalRef.hide()}intializeForm(){this.categoryForm=new a.cw({name:new a.NI("",[a.kI.required]),description:new a.NI("",[a.kI.required])})}onSubmit(){this.newCategory=this.categoryForm.value,this.categoriesService.addCategory(this.newCategory).subscribe(t=>{this.categoriesService.getCategories().subscribe(n=>{this.categoriesService.updateCategories(n)})}),this.onClose()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.UZ),e.Y36(u.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-category"]],decls:19,vars:2,consts:[[1,"modal-header"],[1,"modal-title","h4"],[1,"icon","ki-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body","w-75"],[1,"form-group"],[1,"h5"],["type","text","placeholder","Enter Your Text","formControlName","name",1,"form-control","text-normal","font-weight-normal"],["rows","3","placeholder","Enter Your Description","formControlName","description",1,"form-control","resize-none","text-normal"],[1,"modal-footer","p-20"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","text-white","bg-accent-violet","mt-1","px-24",3,"disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Add Category"),e.qZA(),e.TgZ(3,"span",2),e.NdJ("click",function(){return n.onClose()}),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Category Name"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",6),e._uU(12,"Description"),e.qZA(),e._UZ(13,"textarea",8),e.qZA()(),e.TgZ(14,"div",9)(15,"button",10),e.NdJ("click",function(){return n.onClose()}),e._uU(16,"Cancel"),e.qZA(),e.TgZ(17,"button",11),e._uU(18,"Save"),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",n.categoryForm),e.xp6(13),e.Q6J("disabled",n.categoryForm.invalid))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),o})(),C=(()=>{class o{constructor(t,n,i){this.bsModalRef=t,this.modalService=n,this.categoriesService=i,this.selectedCategory="All Category",this.searchValue="",this.searchItemEntered=new e.vpe}ngOnInit(){}addCategory(){this.bsModalRef=this.modalService.show(h,{class:"small-modal"})}onSearchItemEntered(){this.searchItemEntered.emit(this.searchValue)}resetFilters(){this.searchValue="",this.selectedCategory="All Category",this.categoriesService.setSelectedCategory(this.selectedCategory),this.onSearchItemEntered()}selectedCategoryFilter(){this.categoriesService.setSelectedCategory(this.selectedCategory)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.UZ),e.Y36(d.tT),e.Y36(u.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category-actions"]],outputs:{searchItemEntered:"searchItemEntered"},decls:24,vars:2,consts:[[1,"bg-black-5","pl-16","pr-20","d-flex","pt-8"],[1,"input-search","w-300"],[1,"font-weight-semi-bold"],[1,"pt-4"],["type","text","placeholder","Search",1,"form-control","w-300","ng-pristine","ng-valid","ng-touched","bg-white",3,"ngModel","ngModelChange","keyup"],[1,"ki","ki-search"],[1,"d-flex","align-items-center","w-100","ml-20"],[1,"w-250","form-group"],[1,"font-weight-semi-bold","ml-1"],[1,"ng-select","border","border-radius-4"],[3,"ngModel","ngModelChange","change"],["value","All Category"],["value","Popular"],[1,"d-flex","align-items-center","pl-12","cursor-pointer",3,"click"],[1,"ki","ki-refresh","text-secondary"],[1,"text-secondary","text-large","font-weight-semi-bold"],[1,"ml-auto"],[1,"btn","text-white","bg-accent-violet","mt-20","px-24",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Keywords"),e.qZA(),e.TgZ(4,"div",3)(5,"input",4),e.NdJ("ngModelChange",function(c){return n.searchValue=c})("keyup",function(){return n.onSearchItemEntered()}),e.qZA(),e._UZ(6,"span",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Show"),e.qZA(),e.TgZ(11,"div",9)(12,"ng-select",10),e.NdJ("ngModelChange",function(c){return n.selectedCategory=c})("change",function(){return n.selectedCategoryFilter()}),e.TgZ(13,"ng-option",11),e._uU(14,"All Category"),e.qZA(),e.TgZ(15,"ng-option",12),e._uU(16,"Popular"),e.qZA()()()(),e.TgZ(17,"div",13),e.NdJ("click",function(){return n.resetFilters()}),e._UZ(18,"span",14),e.TgZ(19,"span",15),e._uU(20,"Reset"),e.qZA()()(),e.TgZ(21,"div",16)(22,"button",17),e.NdJ("click",function(){return n.addCategory()}),e._uU(23,"+ Category"),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",n.searchValue),e.xp6(7),e.Q6J("ngModel",n.selectedCategory))},dependencies:[g.w9,g.jq,a.Fj,a.JJ,a.On],encapsulation:2}),o})();function y(o,r){if(1&o&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8),e._uU(9),e.qZA(),e.TgZ(10,"div",9)(11,"span"),e._uU(12),e.qZA()()()()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(2),e.hij("(",t.questionsCount,")"),e.xp6(3),e.Oqu(t.description),e.xp6(3),e.AsE("Tagged ",t.taggedThisWeek," this week, ",t.taggedThisMonth," this month ")}}function f(o,r){if(1&o&&(e.ynx(0),e.YNc(1,y,13,5,"div",2),e.BQk()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.matchSearchValue(t))}}let _=(()=>{class o{constructor(t){this.categoryService=t,this.categoryList=[],this.defaultList=[],this.searchValue=""}ngOnInit(){this.categoryService.selectedCategory.subscribe(t=>{this.select=t,this.filterData()}),this.categoryService.getCategories().subscribe(t=>{this.categoryService.updateCategories(t)})}filterData(){this.categoryService.updateSubject.subscribe(t=>{this.defaultList=t,"All Category"===this.select?this.categoryList=this.sortBasedOnAll(this.defaultList):"Popular"===this.select&&(this.categoryList=this.sortBasedOnPopular(this.defaultList))})}matchSearchValue(t){return""===this.searchValue||t.name.toLowerCase().includes(this.searchValue)||t.description.toLowerCase().includes(this.searchValue)}sortBasedOnPopular(t){return t.sort((n,i)=>i.questionsCount-n.questionsCount)}sortBasedOnAll(t){return t.sort((n,i)=>n.name<i.name?-1:n.name>i.name?1:0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category"]],inputs:{searchValue:"searchValue"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","clear-margin","clear-padding"],[4,"ngFor","ngForOf"],["class","card employee-profile-card col-3",4,"ngIf"],[1,"card","employee-profile-card","col-3"],[1,"card-body","text-primary"],[1,"d-flex","align-items-center","justify-content-between"],[1,"h5","font-weight-bold"],[1,"text-secondaryfont-weight-normal"],[1,"my-20"],[1,"mt-10"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,f,2,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.categoryList))},dependencies:[l.sg,l.O5],encapsulation:2}),o})();const v=[{path:"",component:(()=>{class o{constructor(){this.searchValue=""}findSearchElement(t){this.searchValue=t}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-categories"]],decls:2,vars:1,consts:[[3,"searchItemEntered"],[3,"searchValue"]],template:function(t,n){1&t&&(e.TgZ(0,"app-category-actions",0),e.NdJ("searchItemEntered",function(c){return n.findSearchElement(c)}),e.qZA(),e._UZ(1,"app-category",1)),2&t&&(e.xp6(1),e.Q6J("searchValue",n.searchValue.toLowerCase()))},dependencies:[C,_],encapsulation:2}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(v),m.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.ez,A,g.A0,a.u5,a.UX]}),o})()}}]);